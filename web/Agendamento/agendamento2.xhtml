<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:composition template="../template.xhtml">
        <ui:define name="titulo"  >
            <span style="font-size: 22px; font-family: sans-serif; color: #999999 ; "> Agendar</span>
        </ui:define>    
        <ui:define name="conteudo">
            <!--<p:growl /> -->
            <h:form id="cadastro">
                <h:panelGrid columns="1" style="margin-top: 10px;" >
                    <h:outputLabel value="Local/Sala" class="output-form required"  />                
                    <p:selectOneMenu 
                        id="idperfil"
                        value="#{agendamentoController.agendamento.sala}"
                        converter="salaConverter"
                        class="input"
                        required="true"
                        requiredMessage="Informe o Local"
                        style="width: 25%; min-width: 250px; float: left; font-weight:bold;">

                        <f:selectItem
                            itemLabel="Selecione o Local"
                            itemValue="" />

                        <f:selectItems
                            value="#{salaController.salas}"
                            var="s"
                            itemLabel="#{s.nome_sala} "
                            itemValue="#{s}"
                            />
                    </p:selectOneMenu>
                    
                    <h:outputLabel value="Título" class="output-form required" />
                    <h:inputText label="titulo" value="#{agendamentoController.agendamento.titulo}" styleClass="form-control input" style="width: 70%;" requiredMessage="Informe o Título" required="true"/>                  
                   
                    <h:panelGrid columns="1">
                        <h:outputLabel  value="Quantidade pessoas: " class="output-form" />
                        <p:spinner id="qtd_pessoas" value="#{agendamentoController.agendamento.descritivo.qtd_pessoas}"  />
                    </h:panelGrid>

                    <h:outputLabel  value="Adicinais: " class="output-form" />
                    <p:selectBooleanCheckbox value="#{agendamentoController.agendamento.descritivo.agua}" itemLabel="Água"/>
                    <p:selectBooleanCheckbox value="#{agendamentoController.agendamento.descritivo.cafe}" itemLabel="Café"/>
                    <p:selectBooleanCheckbox value="#{agendamentoController.agendamento.descritivo.frutas}" itemLabel="Frutas"/>

                    <h:panelGrid columns="2">  
                        <h:panelGrid columns="1" >
                            <h:outputLabel value="Início" class="output-form required" />
                            <p:calendar id="time" timeZone="GMT-3" size="10" showOn="button" title="Horário" locale="pt" label="Horário" value="#{agendamentoController.agendamento.inicio}"  pattern="yyyy-MM-dd HH:mm" requiredMessage="Informe o Horário"  />
                        </h:panelGrid>
                        <h:panelGrid columns="1" >
                             <h:outputLabel value="Fim (Opcional)" class="output-form" />
                             <p:calendar id="time2" timeZone="GMT-3" size="10" showOn="button" title="Horário" locale="pt" label="Horário" value="#{agendamentoController.agendamento.fim}"  pattern="yyyy-MM-dd HH:mm" requiredMessage="Informe o Horário"  />                       
                        </h:panelGrid>
                    </h:panelGrid>

                    <h:outputLabel  value="Descrição: " class="output-form" />
                    <p:inputTextarea rows="2" cols="40" value="#{agendamentoController.agendamento.descritivo.adicional}" counter="display" maxlength="100" counterTemplate="{0} caracteres restantes." autoResize="false" />
                    <h:outputText id="display" />
                   </h:panelGrid>


                <div  style="margin-top: 20px">          
                    <div class="form-group"> 
                        <p:commandButton value="Agendar" onclick="PF('dlg1_confirm').show();" class="btn btn-primary btn-space" />
                    </div>

                    <p:dialog id="confirm" header="Finalizar cadastro?" widgetVar="dlg1_confirm" modal="true" minHeight="40" resizable="false" >
                        <div style="margin-top: 10px" class="form-group"> 
                            <h:commandButton value="Confirmar" action="#{agendamentoController.salvar()}" styleClass="btn btn-primary btn-space" />
                            <h:commandButton onclick="dlg1_confirm.hide()" value="Cancelar" class="btn btn-default btn-space" />                
                        </div>
                    </p:dialog>
                </div>
            </h:form>
        </ui:define>
    </ui:composition>
</html>
